{
  "hash": "6b0633e64360ce5a9dba03f756453ab2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Reproducible Research with <img style=\"vertical-align:middle; height:1em; border: none; background: none;\" src=\"assets/images/Rlogo.png\"> and <img style=\"vertical-align:middle; height:1em;\" src=\"assets/images/quarto-logo-trademark.svg\">:\n  Workflows for projects and publications'\nsubtitle: \"A workshop presented at the [Landscape 2024 conference](https://landscape2024.org/frontend/index.php?folder_id=7393&page_id=), Berlin\"\nformat:\n  html:\n    toc: true\n    toc-title: Contents\n    toc-location: left\n    toc-depth: 2\n    number-sections: true\n    number-depth: 1\ncitation-location: margin\n---\n\n\n![](assets/images/graphical_abstract_dark.png){.lightbox width=\"70%\" fig-align=\"center\"}\n\nThis image highlights some the key concepts we will discuss in the workshop, which have been divided into seperate sections:\n\n1.    [Background](@sec-background): Some introductory information on why reproducible and transparent research is important.\n2.   [Research projects with R](@sec-Rprojects): Starting from the basics to develop good practice for creating research projects with R, focusing on some features of Rstudio as an Integrated Development Environment that can help ensure your work is reproducible.\n3.   [Workflows for reproducibility](@sec-workflows): Here we present three workflows of differing levels of complexity and discusses how they can be combined and which might be best given the research needs.\n4.   [Quarto](@sec-Quarto): Section 4 presents how the open-source scientific and technical publishing system can be used for numerous academic activities including preparing manuscripts.\n5.   [Guided exercises](@sec-exercises): Now it's time to get hands-on with some guided exercises  to put into practice some of the concepts we have discussed.\n6.   [Resources](@sec-resources): A collection of resources that we find particularly helpful in our own journey towards reproducible research.\n\n# Background {#sec-background}\n\n---\neditor: \n  markdown: \n    wrap: 72\n---\n\n<!-- Web content -->\n\n::: {.content-hidden when-format=\"revealjs\"}\n## About us\n\nWe are four researchers from the research group [Planning of Landscape\nand Urban Systems (PLUS)](https://plus.ethz.ch/) at [ETH\nZÃ¼rich](https://ethz.ch/en.html). Click on the social icons below our\npictures to find out more about our individual research or get in touch\nwith us.\n\n::: {.grid style=\"display: flex; text-align: center;\"}\n::: g-col-6\n![](assets/images/Ben.jpg){.picture .lightbox}\n\n### Ben Black\n\n*Doctoral Researcher*\n\n[{{< iconify fa6-solid house-chimney-user size=xl >}}](https://blenback.github.io/){.iconify-icon}\n[{{< iconify fa6-solid envelope size=xl >}}](mailto:bblack@ethz.ch){.iconify-icon}\n[{{< iconify fa6-brands linkedin size=xl >}}](https://www.linkedin.com/in/ben-black-9889a1150/){.iconify-icon}\n[{{< iconify fa6-brands github size=xl >}}](https://github.com/blenback/){.iconify-icon}\n[{{< iconify fa6-brands researchgate size=xl >}}](https://www.researchgate.net/profile/Benjamin-Black-5/){.iconify-icon}\n:::\n\n::: g-col-6\n![](assets/images/nivedita.jpg){.picture .lightbox}\n\n### Nivedita Harisena\n\n*Doctoral Researcher*\n\n[{{< iconify fa6-solid house-chimney-user size=xl >}}](https://irl.ethz.ch/people/person-detail.Mjg5Mjgx.TGlzdC8zNzc5LC0xMzk1OTgzMDM3.html){.iconify-icon}\n[{{< iconify fa6-solid envelope size=xl >}}](mailto:nharisena@ethz.ch){.iconify-icon}\n[{{< iconify fa6-brands linkedin size=xl >}}](https://www.linkedin.com/in/nivedita-varma-harisena-667298141/){.iconify-icon}\n[{{< iconify fa6-brands github size=xl >}}](https://github.com/NVHarisena1){.iconify-icon}\n:::\n\n::: g-col-6\n![](assets/images/Manuel.jpg){.picture .lightbox}\n\n### Manuel Kurmann\n\n*Research Assistant*\n\n[{{< iconify fa6-solid house-chimney-user size=xl >}}](https://irl.ethz.ch/people/person-detail.MjM2NjYz.TGlzdC8zNzc5LC0xMzk1OTgzMDM3.html){.iconify-icon}\n[{{< iconify fa6-solid envelope size=xl >}}](mailto:mankurma@student.ethz.ch){.iconify-icon}\n[{{< iconify fa6-brands linkedin size=xl >}}](https://www.linkedin.com/in/manuel-kurmann-696577251/){.iconify-icon}\n[{{< iconify fa6-brands github size=xl >}}](https://github.com/ManuelKurmann){.iconify-icon}\n:::\n\n::: g-col-6\n![](assets/images/Maarten.jpg){.picture .lightbox}\n\n### Maarten Van Strien\n\n*Senior scientist*\n\n[{{< iconify fa6-solid house-chimney-user size=xl >}}](https://irl.ethz.ch/people/person-detail.MTYzODAz.TGlzdC8xNzM4LC0xMzk1OTgzMDM3.html){.iconify-icon}\n[{{< iconify fa6-solid envelope size=xl >}}](mailto:vanstrien@ethz.ch){.iconify-icon}\n[{{< iconify fa6-brands linkedin size=xl >}}](https://www.linkedin.com/in/maarten-van-strien-347b6747/?originalSubdomain=ch){.iconify-icon}\n[{{< iconify fa6-brands researchgate size=xl >}}](https://www.researchgate.net/profile/Maarten-Van-Strien){.iconify-icon}\n:::\n:::\n\n## What is reproducible research?\n\n## Why strive for reproducible research?\n\n-   Some fields have suffered a 'replication crisis':\n    -   In some cases headline results unable to be reproduced using\n        reported data and methods: Lowers trust in science\n        <!--Give headline figures -->\n\n## Why {{< iconify fa-brands r-project >}} for reproducible research?\n:::\n\n<!-- Presentation content -->\n\n::: {.content-visible when-format=\"revealjs\"}\n## About us\n\n### Ben Black\n\n::: {layout=\"[0.38, -0.02, 0.60]\" layout-valign=\"center\"}\n![](https://github.com/blenback.png){.picture .lightbox}\n\n[{{< iconify fa6-solid house-chimney-user >}}\nblenback.github.io](https://blenback.github.io/){style=\"text-decoration: none;\"}<br>\n[{{< iconify fa6-solid envelope >}}\nbblack\\@ethz.ch](mailto:bblack@ethz.ch){style=\"text-decoration: none;\"}<br>\n[{{< iconify fa6-brands linkedin >}} Ben\nBlack](https://www.linkedin.com/in/ben-black-9889a1150/){style=\"text-decoration: none;\"}<br>\n[{{< iconify fa6-brands github >}}\n\\@blenback](https://github.com/blenback/){style=\"text-decoration: none;\"}<br>\n[{{< iconify fa6-brands researchgate >}} \\Benjamin\nBlack](https://www.researchgate.net/profile/Benjamin-Black-5/){style=\"text-decoration: none;\"}<br>\n[{{< iconify simple-icons x >}}\n\\@Blen_Back](https://twitter.com/Blen_Back/){style=\"text-decoration: none;\"}<br>\n:::\n\n## About us\n\n### Nivedita Harisena\n\n## About us\n\n### Manuel Kurmann\n\n## What is reproducible research?\n\nLet's hear your thoughts: What does reproducible research mean to you?\n\n::: {.img style=\"text-align:center;\"}\n![](assets\\images\\what_is_reproducible_qr_code.png){fig-align=\"center\"}\n\n<https://www.menti.com/alsw49tprwu7>\n:::\n\n##  {background-iframe=\"https://www.mentimeter.com/app/presentation/alqogxibw u94raf69893wn32c8it8mcy/embed\"}\n\n## The FAIR standard\n\nThe FAIR standard was developed....\n\n## Why strive for reproducible research?\n\n<!-- Use Mentimeter to take audience suggestions-->\n\n## Why strive for reproducible research?\n\n-   Replication crisis: Allows our work to be verified more thoroughly\n-   Improves science for all: Allows others to more easily build upon\n    our work\n\nDon't just take our word for it, research funders are increasingly\nfocused on reproducible research too: EXAMPLE\n\n## Why {{< iconify fa-brands r-project >}} for reproducible research?\n\n-   Open source\n-   Large active user community for support\n-   Packages to suit just about every research need: statistics,\n    modelling, spatial analysis, visualisation (Many packages developed\n    by academics)\n\nBUT just using {{< iconify fa-brands r-project >}} doesn't necessarily\nmake your research reproducible...\n\nWe have put together this workshop to share some advice for best\npractice and tips that we have picked up along the way.\n\n## Workshop concept\n\n![](assets/images/graphical_abstract_dark.png){width=\"70%\"}\n:::\n\n\n\n# Research projects with R {#sec-Rprojects}\n\n---\nbibliography: references.bib\n---\n\n<!-- Web content -->\n\n::: {.content-visible when-format=\"html\"}\n**Let's start with a definition of what makes a good R project from Jenny Bryan:**\n\nA good R project... *\"creates everything it needs, in its own workspace or folder, and it touches nothing it did not create.\"* Jenny Bryan[@bryan2017]\n\n**Now take a look at these lines of code, of which you have probably seen something similar at the top of many an R script:**\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ggplot2\")\nlibrary(ggplot2)\nsetwd(\"C:/Users/ben/path/that/only/I/have\")\n```\n:::\n\nBut what is wrong with these lines?\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ggplot2\")\nsetwd(\"C:/Users/ben/path/that/only/I/have\")\n```\n:::\n\nDoing guarantees that the project can be moved around on your computer or onto other computers and will still \"just work\".\n\n-   Projects with Rstudio\n-   Environment management\n-   Implement a logical directory structure\n-   Break up your process (master script and sub-scripts)\n-   Write clean code\n\n## Rstudio projects\n\n## Environment management\n\n-   What are environments and why are they needed? (version conflicts/ dependencies etc.\n-   Intro to renv package for environment management.\n\n## Structuring your project directory\n\n-   Set up a consistent directory structure: Data/, scripts/, results/ tools/ (not every project will be the same!)\n\n## Writing clean code:\n\n### General good practice: variable names, use functions for repetive tasks\n\n### Script headers (hint: use code snippet)\n\n### Code sections\n\nAs you may already know braced sections of code (i.e. function definitions, conditional blocks, etc.) can be folded in RStudio by clicking on the small triangle in the margin.\n\nHowever, an often overlooked feature is the ability to create named code sections that can be also folded, as well as easily navigated between. These can be used to break longer scripts into a set of discrete regions according to specific parts of the analysis. In this regard, another good tip is to give the resulting sections sequential numerical IDs:\n\n![](assets/images/code_section_sequential.png)\n\nCode sections are created by inserting a comment line that contains at least four trailing dashes (-), equal signs (=), or pound signs (#):\n\n::: {.cell}\n\n```{.r .cell-code}\n# Section One ---------------------------------\n \n# Section Two =================================\n \n# Section Three #############################\n```\n:::\n\nAlternatively you can use the **Code** -\\> **Insert Section** command. To navigate between code sections you can use the <strong>Jump To</strong> menu available at the bottom of the editor[@positsupport2024]:\n\n![](assets/images/code_section_jumpto.png)\n\nOr use the document outline pane in the top right corner of the source pane:\n\n![](assets/images/code_section_documentpane.dark.png)\n\n### Code styling\n\nlintr vs. styler package\n:::\n\n<!-- Presentation content -->\n\n::: {.content-visible when-format=\"revealjs\"}\n## Two cardinal sins of reproducibilty\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ggplot2\")\nsetwd(\"C:/Users/ben/path/that/only/I/have\")\n```\n:::\n\nYou might have seen such lines commonly used but what is the problem with them?\n\n## Two cardinal sins of reproducibilty\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ggplot2\")\nsetwd(\"C:/Users/ben/path/that/only/I/have\")\n```\n:::\n\n### What is a good R project?\n\nA good R project... *\"creates everything it needs, in its own workspace or folder, and it touches nothing it did not create\"* Jenny Bryan[@bryan2017]\n\nDoing guarantees that the project can be moved around on your computer or onto other computers and will still \"just work\".\n\n## Good project-orientated habits:\n\n-   Take advantage of IDE features (.Rproj, .Rprofile)\n-   Manage your environment\n-   Use logical directory structures\n-   Break up your process (master script and sub-scripts)\n-   Writing clean code\n\n## Rstudio projects\n\n## Environment management\n\nWhat are environments and why are they needed? (version conflicts/ dependencies etc. Intro to renv package for environment management. Set up a consistent directory structure: Data/, scripts/, results/ tools/ (not every project will be the same!)\n\n## Writing clean code:\n\n### Use a consistent header (hint: use code snippet)\n\n### General good practice: variable names, use functions for repetive tasks\n\n### code folding\n\n### Syntax lintr vs. styler package\n:::\n\n\n\n# Workflows for Reproducibility {#sec-workflows}\n\n<!--{{< include contents/Zenodo_workflow.qmd >}}-->\n\n<!--{{< include contents/Docker_workflow.qmd >}}-->\n\n<!--{{< include contents/Git_workflow.qmd >}}-->\n\n# Quarto {#sec-Quarto}\n\n<!-- Web content -->\n:::: {.content-hidden when-format=\"revealjs\"}\n## A brief introduction to Quarto\n\nQuatro is a unified authoring framework that allows for the integration of code, written material and a wide variety of interactive visual formats into one publishable finished document.\n\n####  Quarto allows you to:\n\n-   Create dynamic content that is updated as your code changes\n\n-   Numerous thematic settings for high quality formatting including 'Pandoc' markdown support for equations and cross-referencing\n\n-   Publish your work as websites or books\n\n-   Edit with any text editor including VS Code, RStudio and more\n\n### Some of the creative ways in which you can use Quarto is:\n\n#### 1. Visualize and publish interactive plots using html widgets\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(plotly)\np <- ggplot(data = diamonds, aes(x = cut, fill = clarity)) +\n            geom_bar(position = \"dodge\")\nggplotly(p)\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in train(..., self = self): unused argument (list(\"cut\", \"clarity\", \"count\", \"weight\"))\n```\n\n\n:::\n:::\n\n\n#### 2. Create interactive geo-spatial mapping segments\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\n\nleaflet() %>%\n  addTiles() %>%  # Add default OpenStreetMap map tiles\n  addMarkers(lng= 8.548, lat=47.376, popup=\"ETH\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-0987df2664b5eb2e64b1\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0987df2664b5eb2e64b1\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org\\\">OpenStreetMap<\\/a> contributors, <a href=\\\"https://creativecommons.org/licenses/by-sa/2.0/\\\">CC-BY-SA<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[47.376,8.548,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},\"ETH\",null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[47.376,47.376],\"lng\":[8.548,8.548]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n#### 3. Create multi-purpose dashboards to demostrate your research output\n\n\n![](https://quarto.org/docs/dashboards/examples/thumbnails/customer-churn-dashboard.png){width=60% fig-align=\"center\"}\n:::\n\n<!-- Presentation content -->\n::: {.content-visible when-format=\"revealjs\"}\n\n\n\n:::\n\n\n\n\n# Guided excercises {#sec-exercises}\n\n## R project to Zenodo workflow\n\n\n\n\n\n\n# Resources {#sec-resources}\n\n{{\\< include contents/resources.qmd \\>}\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-1.12.4/jquery.min.js\"></script>\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-binding-2.1.2/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}